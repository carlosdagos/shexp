(library
 ((name shexp_posixat)
  (public_name shexp.posixat)
  (c_names (posixat_stubs posixat_generated_stubs))
  ;; No deps outside of the compiler distribution!
  (libraries (shexp_bigstring_io shexp_sexp))
  (preprocess ((no_preprocessing All)))))

(rule
 ((targets (posixat_generated_stubs.c))
  (deps    (gen/gen.exe))
  (action "${<} c > ${@}")))

(rule
 ((targets (posixat_generated.ml))
  (deps    (gen/gen.exe))
  (action "${<} ml > ${@}")))
